(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function n(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}var o=function(){function e(t,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"_likeCard",(function(e){i._buttonLikePlaceElement.classList.toggle("element__info-like_active")})),n(this,"_deletePlaceElement",(function(){i._cloneElement.remove(),i._cloneElement=null})),n(this,"_openBigImage",(function(){i._openImagePopup(i._cardData)})),this._cardData=t,this._link=t.link,this._name=t.place,this._templateElement=r,this._openImagePopup=o}var r,o;return r=e,(o=[{key:"_cloneTemplate",value:function(){return document.querySelector(this._templateElement).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListener",value:function(){this._buttonLikePlaceElement.addEventListener("click",this._likeCard),this._buttonDeletePlaceElement.addEventListener("click",this._deletePlaceElement),this._imgPlaceElement.addEventListener("click",this._openBigImage)}},{key:"createCard",value:function(){return this._cloneElement=this._cloneTemplate(),this._imgPlaceElement=this._cloneElement.querySelector(".element__photo"),this._namePlaceElement=this._cloneElement.querySelector(".element__info-title"),this._buttonLikePlaceElement=this._cloneElement.querySelector(".element__info-like"),this._buttonDeletePlaceElement=this._cloneElement.querySelector(".element__delete-button"),this._imgPlaceElement.src=this._link,this._imgPlaceElement.alt="На фото - ".concat(this._name),this._namePlaceElement.textContent=this._name,this._setEventListener(),this._cloneElement}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===i(o)?o:String(o)),r)}var o}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._errorTemplateSelector=t.errorTemplateSelector,this._form=n,this._inputList=n.querySelectorAll(this._inputSelector),this._button=n.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage}},{key:"_hideInputError",value:function(e,t){t.classList.remove(this._inputErrorClass),e.textContent=""}},{key:"_hasInvalidInput",value:function(){return Array.from(this._inputList).every((function(e){return e.validity.valid}))}},{key:"_toggleButtonStyle",value:function(){this._hasInvalidInput()?(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1):(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0)}},{key:"_checkInputValidity",value:function(e){var t=this._form.querySelector("".concat(this._errorTemplateSelector).concat(e.name));e.validity.valid?this._hideInputError(t,e):this._showInputError(t,e)}},{key:"enableValidation",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonStyle()}))}))}},{key:"resetForOpenedForm",value:function(){var e=this;this._inputList.forEach((function(t){var n=e._form.querySelector("".concat(e._errorTemplateSelector).concat(t.name));t.validity.valid||e._hideInputError(n,t)})),this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_handleEscapeClose",(function(e){"Escape"===e.key&&n.close()})),s(this,"_handleCloseButtonClose",(function(){n.close()})),s(this,"_handleClickByOverlayClose",(function(e){e.target===e.currentTarget&&n.close()})),this._popup=document.querySelector(t),this._popupCloseButton=this._popup.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"setEventListeners",value:function(){this._popupCloseButton.addEventListener("click",this._handleCloseButtonClose),this._popup.addEventListener("click",this._handleClickByOverlayClose)}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscapeClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscapeClose)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(r){var o=d(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function i(e){var t,n,r,l,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=b(n=o.call(this,e)),u=function(e){n._popupOrigImage.src=e.link,n._popupOrigImage.alt="На фото - ".concat(e.place),n._imagePopupCaption.textContent=e.place,v((t=b(n),d(i.prototype)),"open",t).call(t)},(l=h(l="open"))in r?Object.defineProperty(r,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[l]=u,n._popupOrigImage=n._popup.querySelector(".image-popup__img"),n._imagePopupCaption=n._popup.querySelector(".image-popup__caption"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(f);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var E=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._initialCards=r,this._renderer=o}var t,n;return t=e,(n=[{key:"addCardFromArray",value:function(){var e=this;this._initialCards.forEach((function(t){e.addItem(t)}))}},{key:"addItem",value:function(e){this._container.prepend(this._renderer(e))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(t.profileNameElement),this._profileDescription=document.querySelector(t.profileDescriptionElement)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{username:this._profileName.textContent,description:this._profileDescription.textContent}}},{key:"setUserInfo",value:function(e){this._profileName.textContent=e.username,this._profileDescription.textContent=e.description}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=i.call(this,e))._callbackSubmiFunction=t,n._form=n._popup.querySelector(".popup__form"),n._inputList=n._form.querySelectorAll(".popup__input"),n}return t=l,(n=[{key:"_getInputValues",value:function(){var e=this;return this._values={},this._inputList.forEach((function(t){e._values[t.name]=t.value})),this._values}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;C(I(l.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmiFunction(e._getInputValues()),e.close()}))}},{key:"close",value:function(){C(I(l.prototype),"close",this).call(this),this._form.reset()}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(f),B=document.querySelector(".profile__info-button"),q=document.querySelector(".profile__button"),x={inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input-invalid",errorClass:"popup__error_visible",errorTemplateSelector:".popup__invalid-span-"},R=document.forms.profileForm,D=document.forms.addPlaceForm,F=new P({profileNameElement:".profile__name",profileDescriptionElement:".profile__subtitle"}),V=new _(".image-popup"),N=new E({items:[{place:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{place:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{place:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{place:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{place:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{place:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){return new o(e,"#element-template",V.open).createCard()}},".elements-grid");N.addCardFromArray();var A=new T(".popup_profile-info",(function(e){F.setUserInfo(e)})),U=new T(".popup_add-place",(function(e){N.addItem(e)})),z=new u(x,R),M=new u(x,D);z.enableValidation(),M.enableValidation(),V.setEventListeners(),A.setEventListeners(),U.setEventListeners(),B.addEventListener("click",(function(){z.resetForOpenedForm(),A.setInputValues(F.getUserInfo()),A.open()})),q.addEventListener("click",(function(){M.resetForOpenedForm(),U.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBZ0IsSUFBSXpCLEVEUEksb0JDT2lDLFNBQUN1QixHQUM5REwsRUFBUTlCLFFBQVFtQyxFQUNsQixJQUdNRyxFQUEyQixJQUFJM0csRUFBYzJGLEVBQWtCQyxHQUMvRGdCLEVBQXlCLElBQUk1RyxFQUFjMkYsRUFBa0JJLEdBR25FWSxFQUF5QkUsbUJBQ3pCRCxFQUF1QkMsbUJBR3ZCWCxFQUFXWSxvQkFDWFAsRUFBYU8sb0JBQ2JKLEVBQWNJLG9CQUVkckIsRUFBOEJ0RyxpQkFBaUIsU0FBUyxXQUN0RHdILEVBQXlCSSxxQkFDekJSLEVBQWFTLGVBQWVmLEVBQVNnQixlQUNyQ1YsRUFBYUgsTUFDZixJQUVBVixFQUE0QnZHLGlCQUFpQixTQUFTLFdBQ3BEeUgsRUFBdUJHLHFCQUN2QkwsRUFBY04sTUFDaEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoY2FyZERhdGEsIHRlbXBsYXRlRWxlbWVudCwgb3BlbkltYWdlUG9wdXApIHtcbiAgICB0aGlzLl9jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5wbGFjZTtcbiAgICB0aGlzLl90ZW1wbGF0ZUVsZW1lbnQgPSB0ZW1wbGF0ZUVsZW1lbnQ7XG4gICAgdGhpcy5fb3BlbkltYWdlUG9wdXAgPSBvcGVuSW1hZ2VQb3B1cDtcbiAgfVxuXG4gIF9jbG9uZVRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlRWxlbWVudCkuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcbiAgfSAvL9Cy0LXRgNC90YPQu9C4INC60L7Qv9C40Y4g0YLQtdC80L/Qu9C10LnRgtCwINGB0L4g0LLRgdC10LzQuCDQtdCz0L4g0YfQsNGB0YLRj9C80LggKFwi0L/QvtC00LrQvtC/0L7RgtC90LDRj1wiINGE0YPQvdC60YbQuNGPLCDQvNGLINC10LUg0L3QuNC60LDQuiDQvdC1INCy0LjQtNC40LwpXG5cbiAgX2xpa2VDYXJkID0gZXZ0ID0+IHtcbiAgICB0aGlzLl9idXR0b25MaWtlUGxhY2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2luZm8tbGlrZV9hY3RpdmUnKTtcbiAgfVxuXG4gIF9kZWxldGVQbGFjZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgdGhpcy5fY2xvbmVFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2Nsb25lRWxlbWVudCA9IG51bGw7IC8v0YHQstC+0LnRgdGC0LLQviBjbG9uZUVsZW1lbnQg0YPQtNCw0LvRj9C10YLRgdGPINC40Lcg0L/QsNC80Y/RgtC4XG4gIH1cblxuICBfb3BlbkJpZ0ltYWdlID0gKCkgPT4ge1xuICAgIHRoaXMuX29wZW5JbWFnZVBvcHVwKHRoaXMuX2NhcmREYXRhKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2J1dHRvbkxpa2VQbGFjZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9saWtlQ2FyZCk7IC8vINGE0YPQvdC60YbQuNGPIGxpa2VDYXJkICjQv9C+0YHRgtCw0LLQuNGC0Ywg0LvQsNC50Lov0YHQtNC10LvQsNGC0Ywg0LrQu9Cw0YHRgSDQsNC60YLQuNCy0L3Ri9C8INC40LvQuCDQvdC10LDQutGC0LjQstC90YvQvCkg0LLRi9C30YvQstCw0LXRgtGB0Y8g0L/RgNC4INC60LvQuNC60LVcbiAgICB0aGlzLl9idXR0b25EZWxldGVQbGFjZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9kZWxldGVQbGFjZUVsZW1lbnQpOyAvLyDRhNGD0L3QutGG0LjRjyBkZWxldGVQbGFjZUVsZW1lbnQgKNGD0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YMpINCy0YvQt9GL0LLQsNC10YLRgdGPINC/0YDQuCDQutC70LjQutC1XG4gICAgdGhpcy5faW1nUGxhY2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb3BlbkJpZ0ltYWdlKTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2xvbmVFbGVtZW50ID0gdGhpcy5fY2xvbmVUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2ltZ1BsYWNlRWxlbWVudCA9IHRoaXMuX2Nsb25lRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGhvdG8nKTtcbiAgICB0aGlzLl9uYW1lUGxhY2VFbGVtZW50ID0gdGhpcy5fY2xvbmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbmZvLXRpdGxlJyk7XG4gICAgdGhpcy5fYnV0dG9uTGlrZVBsYWNlRWxlbWVudCA9IHRoaXMuX2Nsb25lRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW5mby1saWtlJyk7XG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlUGxhY2VFbGVtZW50ID0gdGhpcy5fY2xvbmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJyk7XG4gICAgdGhpcy5faW1nUGxhY2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5faW1nUGxhY2VFbGVtZW50LmFsdCA9IGDQndCwINGE0L7RgtC+IC0gJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fbmFtZVBsYWNlRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuICAgIHJldHVybiB0aGlzLl9jbG9uZUVsZW1lbnQ7XG4gIH0gLy/RgdC+0LfQtNCw0LvQuCDRjdC60LfQtdC80L/Qu9GP0YAg0LTQu9GPINC60LDQttC00L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcbn0iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG5jb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcbiAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gIHRoaXMuX2Vycm9yVGVtcGxhdGVTZWxlY3RvciA9IGNvbmZpZy5lcnJvclRlbXBsYXRlU2VsZWN0b3I7XG4gIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICB0aGlzLl9pbnB1dExpc3QgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3Rvcik7XG4gIHRoaXMuX2J1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG59XG5cbl9zaG93SW5wdXRFcnJvcihlcnJvclRleHRFbGVtZW50LCBpbnB1dCkge1xuICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yVGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbn1cblxuX2hpZGVJbnB1dEVycm9yKGVycm9yVGV4dEVsZW1lbnQsIGlucHV0KSB7XG4gIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgZXJyb3JUZXh0RWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xufVxuXG5faGFzSW52YWxpZElucHV0KCl7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2lucHV0TGlzdCkuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG59XG5cbl90b2dnbGVCdXR0b25TdHlsZSgpIHtcbiAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbn1cbn1cblxuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xuICBjb25zdCBlcnJvclRleHRFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX2Vycm9yVGVtcGxhdGVTZWxlY3Rvcn0ke2lucHV0Lm5hbWV9YCk7XG4gIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGVycm9yVGV4dEVsZW1lbnQsIGlucHV0KVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGVycm9yVGV4dEVsZW1lbnQsIGlucHV0KVxuICB9XG59XG5cbmVuYWJsZVZhbGlkYXRpb24oKSB7XG4gIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0eWxlKCk7XG4gICAgfSlcbiAgfSlcbn1cblxucmVzZXRGb3JPcGVuZWRGb3JtKCkge1xuICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgY29uc3QgZXJyb3JUZXh0RWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgJHt0aGlzLl9lcnJvclRlbXBsYXRlU2VsZWN0b3J9JHtpbnB1dC5uYW1lfWApXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZXJyb3JUZXh0RWxlbWVudCwgaW5wdXQpO1xuICAgIH1cbiAgfSlcbiAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG59XG59IiwiLy8g0LrQu9Cw0YHRgSBQb3B1cCAtINC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwXG5leHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpO1xuICB9XG5cbiAgX2hhbmRsZUVzY2FwZUNsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gIH1cbiAgfVxuXG4gIF9oYW5kbGVDbG9zZUJ1dHRvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVDbGlja0J5T3ZlcmxheUNsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZUJ1dHRvbkNsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQnlPdmVybGF5Q2xvc2UpXG4gIH1cblxuICAvL9C/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC0INC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7IC8vINC00L7QsdCw0LLQuNGC0Ywg0LrQu9Cw0YHRgSDQvtGC0LrRgNGL0YLQvtCz0L4g0L/QvtC/0LDQv9CwXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTsgLy8g0L3QsNCy0LXRgdC40YLRjCDRgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDRgdC+0LHRi9GC0LjQtSBrZXlkb3duIC0g0L/RgNC+0LjRgdGFINGB0L7QsdGL0YLQuNC1INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwIGVzY1xuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTsgLy8g0YPQtNCw0LvQuNGC0Ywg0LrQu9Cw0YHRgSDQvtGC0LrRgNGL0YLQvtCz0L4g0L/QvtC/0LDQv9CwXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTsgLy8g0YHQvdGP0YLRjCDRgdC70YPRiNCw0YLQtdC70Ywg0YEg0YHQvtCx0YvRgtC40Y8ga2V5ZG93blxuICB9XG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG4vL9C/0LXRgNC10LfQsNC/0LjRgdGL0LLQsNGC0Ywg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgb3BlblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwT3JpZ0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmltYWdlLXBvcHVwX19pbWcnKTtcbiAgICB0aGlzLl9pbWFnZVBvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1wb3B1cF9fY2FwdGlvbicpO1xuICB9XG5cbiAgb3BlbiA9IChjYXJkRGF0YSkgPT4ge1xuICAgIHRoaXMuX3BvcHVwT3JpZ0ltYWdlLnNyYyA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5fcG9wdXBPcmlnSW1hZ2UuYWx0ID0gYNCd0LAg0YTQvtGC0L4gLSAke2NhcmREYXRhLnBsYWNlfWA7XG4gICAgdGhpcy5faW1hZ2VQb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBjYXJkRGF0YS5wbGFjZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn0iLCIvLyDQutC70LDRgdGBIFNlY3Rpb24sINC60L7RgtC+0YDRi9C5INC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0YDQuNGB0L7QstC60YMg0Y3Qu9C10LzQtdC90YLQvtCyINC90LAg0YHRgtGA0LDQvdC40YbQtVxuZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvciAoIHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yICkge1xuICAgIC8vINC+0LHRitGP0LLQuNC8INC60LvQsNGB0YEsINC60L7RgtC+0YDRi9C5INCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0L/RgNC40L3QuNC80LDQtdGCIGl0ZW1zINC4IHJlbmRlcmVyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgdGhpcy5faW5pdGlhbENhcmRzID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG5cbiAgYWRkQ2FyZEZyb21BcnJheSgpIHtcbiAgICB0aGlzLl9pbml0aWFsQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xuICAgIH0pXG4gIH1cblxuICAvLyDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40L3QuNC80LDQtdGCIERPTS3RjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgC5cbiAgYWRkSXRlbShpdGVtSHRtbCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKHRoaXMuX3JlbmRlcmVyKGl0ZW1IdG1sKSk7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcihwcm9maWxlSW5mbykge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSW5mby5wcm9maWxlTmFtZUVsZW1lbnQpO1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUluZm8ucHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudCk7XG4gIH1cblxuICAvLyDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHt1c2VybmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsIGRlc2NyaXB0aW9uOiB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnR9O1xuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YMuXG4gIHNldFVzZXJJbmZvKHVzZXJEYXRhKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS51c2VybmFtZTtcbiAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyRGF0YS5kZXNjcmlwdGlvbjtcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGNhbGxiYWNrU3VibWl0RnVuY3Rpb24pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYWxsYmFja1N1Ym1pRnVuY3Rpb24gPSBjYWxsYmFja1N1Ym1pdEZ1bmN0aW9uO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl92YWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgdGhpcy5fdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMocHJvZmlsZUluZm8pIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IHByb2ZpbGVJbmZvW2lucHV0Lm5hbWVdO1xuICAgIH0pXG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pRnVuY3Rpb24odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG59IiwiLy/QvNCw0YHRgdC40LIg0YEg0LrQsNGA0YLQuNC90LrQsNC80LgsINC60L7RgtC+0YDRi9C1INCx0YPQtNGD0YIg0LjQt9C90LDRh9Cw0LvRjNC90L5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIHBsYWNlOiAn0JDRgNGF0YvQtycsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xuICB9LFxuICB7XG4gICAgcGxhY2U6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXG4gIH0sXG4gIHtcbiAgICBwbGFjZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xuICB9LFxuICB7XG4gICAgcGxhY2U6ICfQmtCw0LzRh9Cw0YLQutCwJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXG4gIH0sXG4gIHtcbiAgICBwbGFjZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXG4gIH0sXG4gIHtcbiAgICBwbGFjZTogJ9CR0LDQudC60LDQuycsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJ1xuICB9XG5dO1xuXG5jb25zdCBvcGVuUHJvZmlsZVBvcHVwQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLWJ1dHRvbicpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9GA0L7RhNC40LvRj1xuY29uc3Qgb3BlblBsYWNlUG9wdXBCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbicpOyAvL9C60L3QvtC/0LrQsCDRgSDQv9C70Y7RgdC+0Lwg0LTQu9GPINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0LzQtdGB0YLQsFxuXG5jb25zdCBwb3B1cEltYWdlU2VsZWN0b3IgPSAnLmltYWdlLXBvcHVwJztcbmNvbnN0IGxpc3RFbGVtZW50c1NlbGVjdG9yID0gJy5lbGVtZW50cy1ncmlkJztcbmNvbnN0IHBvcHVwUHJvZmlsZVNlbGVjdG9yID0gJy5wb3B1cF9wcm9maWxlLWluZm8nO1xuY29uc3QgcG9wdXBBZGRQbGFjZVNlbGVjdG9yID0gJy5wb3B1cF9hZGQtcGxhY2UnO1xuY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gJyNlbGVtZW50LXRlbXBsYXRlJztcblxuLy/QvtCx0YrQtdC60YIsINC60L7RgtC+0YDRi9C5INC/0L7QvdCw0LTQvtCx0LjRgtGB0Y8g0LIg0LrQu9Cw0YHRgdC1IFVzZXJJbmZvLiDQkiDQvdC10Lwg4oCTINGB0LXQu9C10LrRgtC+0YDRiyDQtNCy0YPRhSDRjdC70LXQvNC10L3RgtC+0LI6INGN0LvQtdC80LXQvdGCINC40LzQtdC90Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INGN0LvQtdC80LXQvdGCINC40L3RhNC+0YDQvNCw0YbQuNC4INC+INGB0LXQsdC1XG5jb25zdCBwcm9maWxlSW5mbyA9IHtcbiAgcHJvZmlsZU5hbWVFbGVtZW50OiAnLnByb2ZpbGVfX25hbWUnLFxuICBwcm9maWxlRGVzY3JpcHRpb25FbGVtZW50OiAnLnByb2ZpbGVfX3N1YnRpdGxlJ1xufVxuXG4vLyDQvtCx0YrQtdC60YLRiyDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4ICjQv9C10YDQtdC90LXRgdC10L3RiyDQuNC3IHZhbGlkYXRlLmpzINC40Lcg0L/RgDYpXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsIC8v0YHQtdC70LXQutGC0L7RgCDQuNC90L/Rg9GC0L7QsiDQstC90YPRgtGA0Lgg0Y3RgtC+0Lkg0YTQvtGA0LzRi1xuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0LWJ1dHRvbicsIC8v0YHQtdC70LXQutGC0L7RgCDQutC90L7Qv9C60Lgg0YHQsNCx0LzQuNGC0LAg0Y3RgtC+0Lkg0YTQvtGA0LzRi1xuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsIC8v0LrQu9Cw0YHRgSDQvNC+0LTQuNGE0LjQutCw0YLQvtGAINC00LvRjyDQtNC40LfRjdC50LHQu9CwINC60L3QvtC/0LrQuCBcItGB0L7RhdGA0LDQvdC40YLRjFwiXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1pbnZhbGlkJywgLy/QutC70LDRgdGBINC80L7QtNC40YTQuNC60LDRgtC+0YAg0LTQu9GPINC40L3Qv9GD0YLQvtCyINC/0YDQuCDQstC+0LfQvdC40LrQvdC+0LLQtdC90LjQuCDQvtGI0LjQsdC60LhcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJywgLy/QutC70LDRgdGBINC00LvRjyDQstC40LTQuNC80L7RgdGC0Lgg0YLQtdC60YHRgtCwINC+0YjQuNCx0LrQuCDRhNC+0YDQvNGLXG4gIGVycm9yVGVtcGxhdGVTZWxlY3RvcjogJy5wb3B1cF9faW52YWxpZC1zcGFuLSdcbn07XG5cbmV4cG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgb3BlblByb2ZpbGVQb3B1cEJ1dHRvbkVsZW1lbnQsXG4gIG9wZW5QbGFjZVBvcHVwQnV0dG9uRWxlbWVudCxcbiAgcG9wdXBJbWFnZVNlbGVjdG9yLFxuICBsaXN0RWxlbWVudHNTZWxlY3RvcixcbiAgcG9wdXBQcm9maWxlU2VsZWN0b3IsXG4gIHBvcHVwQWRkUGxhY2VTZWxlY3RvcixcbiAgdGVtcGxhdGVFbGVtZW50LFxuICBwcm9maWxlSW5mbyxcbiAgdmFsaWRhdGlvbkNvbmZpZ1xufTsiLCJpbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHtcbiAgaW5pdGlhbENhcmRzLFxuICBvcGVuUHJvZmlsZVBvcHVwQnV0dG9uRWxlbWVudCxcbiAgb3BlblBsYWNlUG9wdXBCdXR0b25FbGVtZW50LFxuICBwb3B1cEltYWdlU2VsZWN0b3IsXG4gIGxpc3RFbGVtZW50c1NlbGVjdG9yLFxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcbiAgcG9wdXBBZGRQbGFjZVNlbGVjdG9yLFxuICB0ZW1wbGF0ZUVsZW1lbnQsXG4gIHByb2ZpbGVJbmZvLFxuICB2YWxpZGF0aW9uQ29uZmlnXG59IGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcblxuLy8gXG5jb25zdCBwb3B1cFByb2ZpbGVGb3JtRm9yVmFsaWRhdGlvbiA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGVGb3JtO1xuY29uc3QgcG9wdXBQTGFjZUZvcm1Gb3JWYWxpZGF0aW9uID0gZG9jdW1lbnQuZm9ybXMuYWRkUGxhY2VGb3JtO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlSW5mbyk7XG5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZVNlbGVjdG9yKTtcblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sIHRlbXBsYXRlRWxlbWVudCwgcG9wdXBJbWFnZS5vcGVuKTtcbiAgICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XG4gIH1cbn0sIGxpc3RFbGVtZW50c1NlbGVjdG9yKVxuc2VjdGlvbi5hZGRDYXJkRnJvbUFycmF5KCk7XG5cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwUHJvZmlsZVNlbGVjdG9yLCAoZGF0YSkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbn0pO1xuXG5jb25zdCBwb3B1cEFkZFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRQbGFjZVNlbGVjdG9yLCAoZGF0YSkgPT4ge1xuICBzZWN0aW9uLmFkZEl0ZW0oZGF0YSk7XG59KTtcblxuLy8g0Y3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCBGb3JtVmFsaWRhdG9yINC00LvRjyBmb3JtUHJvZmlsZUluZm9WYWxpZGF0b3Ig0LggZm9ybVBMYWNlc0luZm9WYWxpZGF0b3Ig0LTQu9GPINC30LDQv9GD0YHQutCwINCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgZm9ybVByb2ZpbGVJbmZvVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBQcm9maWxlRm9ybUZvclZhbGlkYXRpb24pO1xuY29uc3QgZm9ybVBMYWNlSW5mb1ZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwUExhY2VGb3JtRm9yVmFsaWRhdGlvbik7XG5cbi8vINC/0YDQvtCy0L7QtNC40Lwg0LLQsNC70LjQtNCw0YbQuNGOINCy0YHQtdGFINGN0LrQt9C10LzQv9C70Y/RgNC+0LIgXG5mb3JtUHJvZmlsZUluZm9WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybVBMYWNlSW5mb1ZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINC90LDQstC10YjQuNCy0LDQtdC8IHNldEV2ZW50TGlzdGVuZXJzINC90LAg0Y3QutC30LXQvNC/0LvRj9GA0Ysg0L/QvtC/0LDQv9C+0LJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGRQbGFjZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5vcGVuUHJvZmlsZVBvcHVwQnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVByb2ZpbGVJbmZvVmFsaWRhdG9yLnJlc2V0Rm9yT3BlbmVkRm9ybSgpO1xuICBwb3B1cFByb2ZpbGUuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG59KTsgLy/Qv9C+INC60LvQuNC60YMg0L3QsCDQutC90L7Qv9C60YMg0LrQsNGA0LDQvdC00LDRiNCwINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y8g0L7RgtC60YDRi9Cy0LDQtdGC0YHRj1xuXG5vcGVuUGxhY2VQb3B1cEJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1QTGFjZUluZm9WYWxpZGF0b3IucmVzZXRGb3JPcGVuZWRGb3JtKCk7XG4gIHBvcHVwQWRkUGxhY2Uub3BlbigpO1xufSk7IC8v0L/QviDQutC70LjQutGDINC90LAg0LrQvdC+0L/QutGDINC/0LvRjtGB0LAg0L/QvtC/0LDQvyDQvNC10YHRgtCwINC+0YLQutGA0YvQstCw0LXRgtGB0Y8iXSwibmFtZXMiOlsiQ2FyZCIsImNhcmREYXRhIiwidGVtcGxhdGVFbGVtZW50Iiwib3BlbkltYWdlUG9wdXAiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsImV2dCIsIl9idXR0b25MaWtlUGxhY2VFbGVtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2Nsb25lRWxlbWVudCIsInJlbW92ZSIsIl9vcGVuSW1hZ2VQb3B1cCIsIl9jYXJkRGF0YSIsInRoaXMiLCJfbGluayIsImxpbmsiLCJfbmFtZSIsInBsYWNlIiwiX3RlbXBsYXRlRWxlbWVudCIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfbGlrZUNhcmQiLCJfYnV0dG9uRGVsZXRlUGxhY2VFbGVtZW50IiwiX2RlbGV0ZVBsYWNlRWxlbWVudCIsIl9pbWdQbGFjZUVsZW1lbnQiLCJfb3BlbkJpZ0ltYWdlIiwiX2Nsb25lVGVtcGxhdGUiLCJfbmFtZVBsYWNlRWxlbWVudCIsInNyYyIsImFsdCIsImNvbmNhdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXIiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybSIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9lcnJvclRlbXBsYXRlU2VsZWN0b3IiLCJlcnJvclRlbXBsYXRlU2VsZWN0b3IiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbiIsImVycm9yVGV4dEVsZW1lbnQiLCJpbnB1dCIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiQXJyYXkiLCJmcm9tIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwibmFtZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0eWxlIiwiX3RoaXMyIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX3BvcHVwIiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJfaGFuZGxlQ2xvc2VCdXR0b25DbG9zZSIsIl9oYW5kbGVDbGlja0J5T3ZlcmxheUNsb3NlIiwiX2hhbmRsZUVzY2FwZUNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX3RoaXNTdXBlciIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJjYWxsIiwiX3BvcHVwT3JpZ0ltYWdlIiwiX2ltYWdlUG9wdXBDYXB0aW9uIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlNlY3Rpb24iLCJfcmVmIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsIl9pbml0aWFsQ2FyZHMiLCJfcmVuZGVyZXIiLCJpdGVtIiwiYWRkSXRlbSIsIml0ZW1IdG1sIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwicHJvZmlsZUluZm8iLCJfcHJvZmlsZU5hbWUiLCJwcm9maWxlTmFtZUVsZW1lbnQiLCJfcHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudCIsInVzZXJuYW1lIiwiZGVzY3JpcHRpb24iLCJ1c2VyRGF0YSIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFja1N1Ym1pdEZ1bmN0aW9uIiwiX2NhbGxiYWNrU3VibWlGdW5jdGlvbiIsIl92YWx1ZXMiLCJfdGhpczMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0Iiwib3BlblByb2ZpbGVQb3B1cEJ1dHRvbkVsZW1lbnQiLCJvcGVuUGxhY2VQb3B1cEJ1dHRvbkVsZW1lbnQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwicG9wdXBQcm9maWxlRm9ybUZvclZhbGlkYXRpb24iLCJmb3JtcyIsInByb2ZpbGVGb3JtIiwicG9wdXBQTGFjZUZvcm1Gb3JWYWxpZGF0aW9uIiwiYWRkUGxhY2VGb3JtIiwidXNlckluZm8iLCJwb3B1cEltYWdlIiwic2VjdGlvbiIsIm9wZW4iLCJjcmVhdGVDYXJkIiwiYWRkQ2FyZEZyb21BcnJheSIsInBvcHVwUHJvZmlsZSIsImRhdGEiLCJzZXRVc2VySW5mbyIsInBvcHVwQWRkUGxhY2UiLCJmb3JtUHJvZmlsZUluZm9WYWxpZGF0b3IiLCJmb3JtUExhY2VJbmZvVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVzZXRGb3JPcGVuZWRGb3JtIiwic2V0SW5wdXRWYWx1ZXMiLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=